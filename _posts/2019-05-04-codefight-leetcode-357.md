---
layout: post
title:  "Leetcode-357-计算各个位数不同的数字个数"
date:   2019-05-04 10:07:00 +0700
categories: [algorithm, dynamic programming]
---

## 题目
给定一个非负整数 n，计算各位数字都不同的数字 x 的个数，其中 0 ≤ x < 10n 。

#### 示例1
```
输入: 2
输出: 91 
解释: 答案应为除去 11,22,33,44,55,66,77,88,99 外，在 [0,100) 区间内的所有数字。
```

## 思路
可以使用动态规划来解决.

使用一个数组`dp[n + 1]`,对于i(在0到n之间)有`dp[i] = 十进制位数为i时的各位都不相同的数字个数`.

假设有`n = k`,那么本题的结果应该包含`n = 1, 2, ..., k - 1`时的结果,所以在求解时需要累加dp数组的结果.

接下来考虑数字位数为k时的情况,由于数字起始不为0,所以有9种选择,又由于之后位数的数字不能相同所以之后第二位的数字可以取除了第一位以外的数字,也有九种选择.

例如第一位取1, 那么第二位只能取`0,2,3,...,9`的数字总共有9种选择,之后位数的数字选择个数递减.

下面看数组dp的取值:
```
dp[1] = 10;
dp[2] = 9 * 9;
dp[3] = 9 * 9 * 8
...
dp[k] = 9 * 9 * 8 * ... * (9 - k + 2)
```

## 代码
```java
public int countNumbersWithUniqueDigits(int n) {
	if (n == 0) return 1;
	if (n == 1) return 10;
	int[] arr = new int[n + 1];
	arr[0] = 1
	arr[1] = 10;
	arr[2] = 81;
	int result = arr[1] + arr[2];
	for (int i = 3; i <= n; i++) {
		arr[i] = (9 - i + 2) * arr[i - 1];
		result += arr[i];
	}
	return result;
}
```
