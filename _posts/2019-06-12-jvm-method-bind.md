---
layout: post
title:  "JVM方法执行探究"
date:   2019-06-12 19:47:00 +0700
categories: [jvm]
---

首先看一个小例子，有两个方法如下：
```java
void foo(Object o, Object...objs);
void foo(String s, Object obj, Object...objs);

foo(null, 1); // 调用2
foo(null, 2, 1); // 调用2
foo(null, new Object[]{1}); // 避开可变参数，调用1
```

这是由于`null`相比`String`和`Object`，与String更加接近。故重载时选择了第二个方法。

## 重载的规则
重载方法选取的规则如下：
1. 不考虑对基本类型装箱拆箱的情况下选取重载方法。
2. 如果第一步没有选到，那么运行装箱拆箱的情况下不允许变长参数的情况下选取重载方法。
3. 如果第二步没有找到，那么在允许装箱拆箱的情况下而且允许变长参数的情况下选取重载方法。

此外如果编译器在同一个阶段中找到了多个匹配的方法，那么它选择其中一个最为贴切的方法，决定贴切程度的关键就是
类的继承关系.